<pre class="shiki serendipity" style="background-color:#0000;color:#d4d4d4" tabindex="0"><code><span class="line"><span style="color:#777D8F">&#x3C;script></span></span>
<span class="line"><span style="color:#5BA2D0">	import </span><span style="color:#8D8F9E">{</span><span style="color:#DEE0EF"> bounceOut</span><span style="color:#8D8F9E"> }</span><span style="color:#5BA2D0"> from </span><span style="color:#A78BFA">'svelte/easing'</span></span>
<span class="line"><span style="color:#5BA2D0">	import </span><span style="color:#8D8F9E">{</span><span style="color:#DEE0EF"> fly</span><span style="color:#8D8F9E"> }</span><span style="color:#5BA2D0"> from </span><span style="color:#A78BFA">'svelte/transition'</span></span>
<span class="line"><span style="color:#5BA2D0">	import </span><span style="color:#8D8F9E">{</span><span style="color:#DEE0EF"> visibility</span><span style="color:#8D8F9E"> }</span><span style="color:#5BA2D0"> from </span><span style="color:#A78BFA">'fractils'</span></span>
<span class="line"><span style="color:#777D8F">	</span></span>
<span class="line"><span style="color:#5BA2D0">	let</span><span style="color:#DEE0EF"> visible</span><span style="color:#8D8F9E">,</span><span style="color:#DEE0EF"> scrollDir</span><span style="color:#8D8F9E">,</span><span style="color:#DEE0EF"> options</span><span style="color:#5BA2D0"> =</span><span style="color:#8D8F9E"> {</span><span style="color:#777D8F"> threshold</span><span style="color:#8D8F9E">:</span><span style="color:#F8D2C9"> 0.75</span><span style="color:#8D8F9E"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5BA2D0">	function</span><span style="color:#F8D2C9"> handleChange</span><span style="color:#8D8F9E">(</span><span style="color:#9CCFD8">e</span><span style="color:#8D8F9E">)</span><span style="color:#8D8F9E"> {</span></span>
<span class="line"><span style="color:#DEE0EF">		visible</span><span style="color:#5BA2D0"> =</span><span style="color:#DEE0EF"> e</span><span style="color:#5BA2D0">.</span><span style="color:#DEE0EF">detail</span><span style="color:#5BA2D0">.</span><span style="color:#DEE0EF">isVisible</span></span>
<span class="line"><span style="color:#DEE0EF">		scrollDir</span><span style="color:#5BA2D0"> =</span><span style="color:#DEE0EF"> e</span><span style="color:#5BA2D0">.</span><span style="color:#DEE0EF">detail</span><span style="color:#5BA2D0">.</span><span style="color:#DEE0EF">scrollDirection</span></span>
<span class="line"><span style="color:#8D8F9E">	}</span></span>
<span class="line"><span style="color:#777D8F">&#x3C;/script></span></span>
<span class="line"></span>
<span class="line"><span style="color:#777D8F">&#x3C;div</span><span style="color:#5BA2D0"> use</span><span style="color:#8D8F9E">:</span><span style="color:#DEE0EF">visibility</span><span style="color:#777D8F">=</span><span style="color:#8D8F9E">{</span><span style="color:#DEE0EF">options</span><span style="color:#8D8F9E">}</span><span style="color:#5BA2D0"> on</span><span style="color:#8D8F9E">:</span><span style="color:#94B8FF">v-change</span><span style="color:#777D8F">=</span><span style="color:#8D8F9E">{</span><span style="color:#DEE0EF">handleChange</span><span style="color:#8D8F9E">}</span><span style="color:#777D8F">></span></span>
<span class="line"><span style="color:#8D8F9E">	{#</span><span style="color:#5BA2D0">if</span><span style="color:#DEE0EF"> visible</span><span style="color:#8D8F9E">}</span></span>
<span class="line"><span style="color:#777D8F">		&#x3C;div</span><span style="color:#5BA2D0"> in</span><span style="color:#8D8F9E">:</span><span style="color:#DEE0EF">fly</span><span style="color:#777D8F">=</span><span style="color:#8D8F9E">{{</span><span style="color:#DEE0EF"> y</span><span style="color:#8D8F9E">:</span><span style="color:#5BA2D0"> -</span><span style="color:#F8D2C9">20</span><span style="color:#8D8F9E">,</span><span style="color:#DEE0EF"> easing</span><span style="color:#8D8F9E">:</span><span style="color:#DEE0EF"> bounceOut </span><span style="color:#8D8F9E">}}</span><span style="color:#777D8F">></span></span>
<span class="line"><span style="color:#777D8F">			going </span><span style="color:#8D8F9E">{</span><span style="color:#DEE0EF">scrollDir</span><span style="color:#5BA2D0"> ===</span><span style="color:#A78BFA"> 'down'</span><span style="color:#5BA2D0"> ?</span><span style="color:#A78BFA"> '⬇'</span><span style="color:#5BA2D0"> :</span><span style="color:#A78BFA"> '⬆'</span><span style="color:#8D8F9E">}</span></span>
<span class="line"><span style="color:#777D8F">		&#x3C;/div></span></span>
<span class="line"><span style="color:#8D8F9E">	{/</span><span style="color:#5BA2D0">if</span><span style="color:#8D8F9E">}</span></span>
<span class="line"><span style="color:#777D8F">&#x3C;/div></span></span></code></pre>